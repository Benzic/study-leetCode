<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //第一题第一解
        var romanToInt = function (s) {
            let num = 0
            for (let i = 0; i <= s.length - 1; i++) {

                switch (s[i]) {
                    case "I":
                        if (s[i + 1] === "V" || s[i + 1] === "X") {
                            num -= 1
                        } else {
                            num += 1;
                        }
                        break;
                    case "V":
                        num += 5;
                        break;
                    case "X":
                        if (s[i + 1] === "L" || s[i + 1] === "C") {
                            num -= 10
                        } else {
                            num += 10;
                        }
                        break;
                    case "L":
                        num += 50;
                        break;
                    case "C":
                        if (s[i + 1] === "D" || s[i + 1] === "M") {
                            num -= 100
                        } else {
                            num += 100;
                        }
                        break;
                    case "D":
                        num += 500;
                        break;
                    case "M":
                        num += 1000;
                        break
                }
            }
            return num
        };
        console.log(romanToInt("IIIVVMM"))
        //第一题第二解
        var romanToInt = function (s) {
            let map = {
                    "I": 1,
                    "V": 5,
                    "X": 10,
                    "L": 50,
                    "C": 100,
                    "D": 500,
                    "M": 1000
                },
                sum = 0,
                now = 0,
                num = 0
            for (let i = 0; i <= s.length - 1; i++) {
                now = map[s[i]]
                if (num < now) {
                    sum -= num
                } else {
                    sum += num
                }
                num = now
            }
            sum += num
            return sum
        };
        console.log(romanToInt("MMMCCXLIVI"))
        //第二题第一解
        var maxArea = function (height) {
            let area = 0,
                carea = 0;
            for (let i = 0; i <= height.length - 1; i++) {
                for (let j = i + 1; j <= height.length - 1; j++) {
                    carea = Math.min(height[i], height[j]) * (j - i)
                    if (area <= carea) {
                        area = carea
                    }
                }
            }
            return area
        }
        console.log(maxArea([1, 8, 6, 2, 5, 4, 8, 3, 7]))
        //第二题第二解
        var maxArea = function (height) {
            let area = 0,
                carea = 0,
                i = 0,
                j = height.length - 1;
            while (i < j) {
                carea = Math.min(height[i], height[j]) * (j - i)
                if (area <= carea) {
                    area = carea
                }
                if (height[i] < height[j]) {
                    i++
                } else {
                    j--
                }
            }
            return area
        }
        console.log(maxArea([1, 8, 6, 2, 5, 4, 8, 3, 7]))
        //最长的公共字符
        var longestCommonPrefix = function (strs) {
            if (!strs.length) return ""
            let len = 0;
            let has = true

            function findStr(len) {
                let str = strs[0].slice(0, len);
                for (let i = 1; i <= strs.length - 1; i++) {
                    if (strs[i].indexOf(str) !== 0) {
                        has = false
                        return has
                    }
                }
                return has
            }
            while (has && len <= strs[0].length) {
                len += 1
                findStr(len)
            }
            return strs[0].slice(0, len - 1)
        };
        console.log(longestCommonPrefix(["f4f1", 'f23', 'f14']))

        //Z字形转换
        var convert = function (s, numRows) {
            let rows = [];
            let rowIndex = 0
            let down = true
            for (let i = 0; i <= s.length - 1; i++) {
                !rows[rowIndex] && (rows[rowIndex] = "")
                rows[rowIndex] += s[i]
                rowIndex = down ? rowIndex + 1 : rowIndex - 1
                if (rowIndex === numRows - 1) {
                    down = false
                } else if (rowIndex === 0) {
                    down = true
                }
            }
            return rows.join("")
        };
        console.log(convert("THISLEETCODEDOWN", 3))
        //三树之和
        var threeSum = function (nums) {
            let array = []
            nums.sort((a, b) => {
                return a - b
            })
            if (nums[0] > 0) {
                return array
            }
            for (let i = 0; i <= nums.length - 1 && nums[i] <= 0; i++) {
                let left = i + 1;
                let right = nums.length - 1
                if (nums[i] == nums[i - 1]) continue; // 去重
                while (left < right) {
                    let sum = nums[i] + nums[left] + nums[right]
                    if (sum < 0) {
                        left++
                    }
                    if (sum > 0) {
                        right--
                    }
                    if (sum === 0) {
                        array.push([nums[left], nums[right], nums[i]])
                        while (left < right && nums[left] == nums[left + 1]) left++; // 去重
                        while (left < right && nums[right] == nums[right - 1]) right--; // 去重
                        left++;
                        right--
                    }
                }
            }
            return array
        };
        console.log(threeSum([1, 1, -1, -1, 3]))
        //最接近的三数之和
        var threeSumClosest = function (nums, target) {
            let dis = null,
                result = 0;
            nums.sort((a, b) => {
                return a - b
            })
            for (let i = 0; i <= nums.length - 1; i++) {
                let left = i + 1;
                let right = nums.length - 1
                if (nums[i] == nums[i - 1]) continue; // 去重
                while (left < right) {
                    let sum = nums[i] + nums[left] + nums[right]
                    let current = Math.abs(target - sum)
                    if (dis > current) {
                        dis = current
                        result = sum
                    }
                    if (dis === null) {
                        dis = current
                        result = sum
                    }
                    if (sum > target) {
                        right--
                    }
                    if (sum < target) {
                        left++
                    }
                    if (sum - target === 0) {
                        while (left < right && nums[left] == nums[left + 1]) left++; // 去重
                        while (left < right && nums[right] == nums[right - 1]) right--; // 去重
                        return sum
                    }
                }
            }
            return result
        };
        console.log(threeSum([1, 1, -1, -1, 3], -1))
        var intToRoman = function (num) {
            let str = ""
            while (num >= 1) {
                if ((num / 1000) >= 1) {
                    console.log(num)
                    str += "M"
                    num = num - 1000
                } else if ((num / 900) >= 1) {
                    str += "CM"
                    num = num - 900
                } else if ((num / 500) >= 1) {
                    console.log(num)
                    str += "D"
                    num = num - 500
                } else if ((num / 400) >= 1) {
                    console.log(num)
                    str += "CD"
                    num = num - 400
                } else if ((num / 100) >= 1) {
                    str += "C"
                    num = num - 100
                } else if ((num / 90) >= 1) {
                    str += "XC"
                    num = num - 90
                } else if ((num / 50) >= 1) {
                    str += "L"
                    num = num - 50
                } else if ((num / 40) >= 1) {
                    str += "XL"
                    num = num - 40
                } else if ((num / 10) >= 1) {
                    str += "X"
                    num = num - 10
                } else if ((num / 9) >= 1) {
                    str += "IX"
                    num = num - 9
                } else if ((num / 5) >= 1) {
                    str += "V"
                    num = num - 5
                } else if ((num / 4) >= 1) {
                    str += "IV"
                    num = num - 4
                } else if ((num / 1) >= 1) {
                    str += "I"
                    num = num - 1
                }
            }
            return str
        };
        var intToRoman = function (num) {
            let strArray = ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"],
                values = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
                str = "",
                index = 0
            while (index < strArray.length) {
                while (num >= values[index]) {
                    str += strArray[index]
                    num = num - values[index]
                }
                index++
            }
            return str
        };
        console.log(intToRoman(9))
        var isValid = function (s) {
            let arr = []
            if (s.length % 2 !== 0) {
                return false
            }
            for (let i = 0; i <= s.length - 1; i++) {
                switch (s[i]) {
                    case "(":
                    case "[":
                    case "{":
                        arr.push(s[i]);
                        break;
                    case ")":
                        if (arr.pop() !== '(') return false
                        break;
                    case "]":
                        if (arr.pop() !== '[') return false
                        break;
                    case "}":
                        if (arr.pop() !== '{') return false
                        break;
                    default:
                        break;
                }
            }
            return !arr.length
        };
        console.log(isValid("[[[]"))


        var mergeTwoLists = function (l1, l2) {
            if (l1 === null) {
                return l2
            } else if (l2 === null) {
                return l1
            } else if (l1.val < l2.val) {
                l1.next = mergeTwoLists(l1, l2.next)
                return l1
            } else {
                l2.next = mergeTwoLists(l1.next, l2)
                return l2
            }
        };
        var mergeTwoLists = function (l1, l2) {
            let res = new ListNode();
            let end = res;
            while (l1 && l2) {
                if (l1.val < l2.val) {
                    end.next = l1;
                    l1 = l1.next;
                } else {
                    end.next = l2;
                    l2 = l2.next;
                }
                end = end.next;
            }
            end.next = l1 || l2;
            return res.next;
        };
        //
        var removeDuplicates = function (nums) {
            let left = 0;
            let right = 1;
            while (right < nums.length) {
                if (nums[left] !== nums[right]) {
                    nums[++left] = nums[right]
                }
                right++
            }
            return left + 1
        };
        console.log(removeDuplicates([1, 1, 2, 2, 3, 3, 4, 5, 6]))
        var removeDuplicates = function (nums) {
            let idx = 0,
                nowIdx, pass = 0;
            while (idx + pass + 1 < nums.length) {
                nowIdx = idx + pass + 1;
                if (nums[idx] === nums[nowIdx]) {
                    pass++;
                } else {
                    idx++;
                    [nums[idx], nums[nowIdx]] = [nums[nowIdx], nums[idx]];
                }
            }
            return idx + 1;
        };
        console.log(removeDuplicates([1, 1, 2, 2, 3, 3, 4, 5, 6]))
        var removeDuplicates = function (nums) {
            let last = nums[nums.length] - 1;
            for (let i = nums.length - 1; i >= 0; i--) {
                if (nums[i] !== last) {
                    last = nums[i]
                } else {
                    nums.splice(i, 1)
                }
            }
            return nums.length
        };
        console.log(removeDuplicates([1, 1, 2, 2, 3, 3, 4, 5, 6]))

        var finStr = function (str, p) {
            if (p.length > str.length) {
                return []
            }
            let left = 0;
            let right = 2;
            let len = p.length;
            let array = [];
            const map = {};
            for (let i = 0; i <= p.length - 1; i++) {
                if (map[p[i]]) {
                    map[p[i]]++
                } else {
                    map[p[i]] = 1
                }
            }
            for (let i = 0; i <= p.length - 1; i++) {
                if (map[str[i]] > 0) {
                    map[str[i]]--
                    len--
                }
            }
            console.log(len, map)
            while (right <= str.length - 1) {
                if (map.hasOwnProperty(str[right])) {
                    console.log(str[right])
                    map[str[right]]--
                    len--
                }


                console.log(len, str[left], str[right], left, right, str)
                if (len === 0) {
                    array.push(left)
                }
                right++
                left++
                if (map.hasOwnProperty(str[left - 1])) {
                    map[str[left - 1]]++
                    len++
                }
                console.log(len, map)
            }
            return array
        }
        console.log(finStr("abcfdefacdsda", "asd"))
        var generateParenthesis = function (n) {
            let array = [];
            let str = "";

            function generate(str, left, right) {
                if (str.length === 2 * n) {
                    array.push(str)
                    return
                }
                if (left > 0) {
                    generate(str + "(", left - 1, right)
                }
                if (right > left) {
                    generate(str + ")", left, right - 1)
                }
            }
            generate(str, n, n)
            return array
        };
    </script>
</body>

</html>